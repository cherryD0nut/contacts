<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>프로필 등록</title>
    <link rel="stylesheet" th:href="@{/css/mainStyle.css}">
    <link rel="stylesheet" th:href="@{/css/profile.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body class="gradient-custom">
<div th:replace="~{fragments/header}"></div>
<span id="userId" th:text="${#authentication.name}" style="display: none;"></span>
<div class="container py-5 d-flex justify-content-center align-items-center" style="min-height: 80vh;">
    <div class="profile-card">
        <div class="mb-3 fs-4"><strong>프로필 등록</strong></div>
        <div style="display: flex; justify-content: center;">
            <div class="preview-box" id="preview-box">미리보기</div>
        </div>
        <form id="profileForm" enctype="multipart/form-data">
            <input type="file" id="photoInput" name="photoInput" accept="image/*" style="display: none;">

            <div class="profile-info">
                <div class="mb-3">
                    <label>Id : <span sec:authentication="name"></span></label>

                </div>
                <div class="mb-3">
                    <label>닉네임 : 미죽희 </label>
                </div>
            </div>

            <div class="text-center mt-4">
                <button type="submit" id="saveBtn" class="btn btn-dark">저장</button>
            </div>
        </form>

    </div>
</div>
<!-- 프로필 사진 변경 모달 -->
<div class="modal fade" id="editProfileModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered"> <!-- 중앙 정렬 -->
        <div class="modal-content bg-dark text-white rounded-4">
            <div class="modal-header border-0">
                <h5 class="modal-title w-100 text-center" id="changeProfileModalLabel">프로필 사진 변경</h5>
            </div>
            <div class="modal-body d-flex flex-column p-0">
                <button type="button" class="btn btn-link text-primary py-3 border-top border-bottom" id="uploadPhotoBtn">사진 업로드</button>
                <button type="button" class="btn btn-link text-danger py-3 border-bottom" id="deletePhotoBtn">현재 사진 삭제</button>
                <button type="button" class="btn btn-link text-white py-3" data-bs-dismiss="modal">취소</button>
            </div>
        </div>
    </div>
</div>
<script src="/js/profile.js"></script>
</body>
</html>
